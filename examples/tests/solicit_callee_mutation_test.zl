error TestError = _;

fun handler_test() >> i32 {
    i32 ret_val = 0;
    solicit TestError;
    return ret_val;
}

fun main() >> i32 {
    bool err = false;
    i32 res = handler_test() on solicit TestError {
        err = true;
        ret_val = 1;
    };
    @printf("(expected 1):%d\n", err as i32);
    @printf("(expected 1):%d\n", res);
    return 0;
}
